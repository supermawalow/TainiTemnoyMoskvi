<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã - –¢–∞–π–Ω—ã –¢—ë–º–Ω–æ–π –ú–æ—Å–∫–≤—ã</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1 onclick="handleLogoClick()">–¢–∞–π–Ω—ã –¢—ë–º–Ω–æ–π –ú–æ—Å–∫–≤—ã</h1>
        </div>
        
        <!-- –ö–Ω–æ–ø–∫–∞ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
        <button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button>
        
        <nav class="main-nav">
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="quiz.html">–ù–∞—á–∞—Ç—å –ö–≤–∏–∑</a>
            <a href="quests.html">–í—ã–±—Ä–∞—Ç—å –ö–≤–µ—Å—Ç</a>
            <a href="register.html">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è</a>
        </nav>
    </header>

    <main>
        <div class="quiz-container">
            <h2>–¢–≤–æ–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
            
            <div id="result-content">
                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
            
            <div style="margin-top: 2rem; text-align: center;">
                <button class="cta-button" onclick="retryQuiz()">–ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
                <button class="cta-button secondary" onclick="goToQuests()">–í—ã–±—Ä–∞—Ç—å –ö–≤–µ—Å—Ç</button>
            </div>
        </div>
    </main>

    <footer>
        <p>¬© 2025 –¢–∞–π–Ω—ã –¢—ë–º–Ω–æ–π –ú–æ—Å–∫–≤—ã. –°–æ–∑–¥–∞–Ω–æ —Å üíÄ</p>
        <p> BY MEOWLENTII </p>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–æ–≥–¥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è
        document.addEventListener('DOMContentLoaded', function() {
            let score, totalQuestions;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
            if (typeof loadFromLocalStorage === 'function') {
                score = loadFromLocalStorage('quizScore') || 0;
                totalQuestions = loadFromLocalStorage('totalQuestions') || 10;
            } else {
                score = parseInt(localStorage.getItem('quizScore')) || 0;
                totalQuestions = parseInt(localStorage.getItem('totalQuestions')) || 10;
            }
            
            const resultContent = document.getElementById('result-content');
            
            // –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
            const ratingSystem = [
                { min: 0, stars: '‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ', level: '–ù–æ–≤–∏—á–æ–∫', desc: '–¢–æ–ª—å–∫–æ –Ω–∞—á–∏–Ω–∞–µ—à—å –ø—É—Ç—å –≤ –º–∏—Ä –º–æ—Å–∫–æ–≤—Å–∫–∏—Ö —Ç–∞–π–Ω' },
                { min: 3, stars: '‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ', level: '–õ—é–±–∏—Ç–µ–ª—å', desc: '–£–∂–µ –∫–æ–µ-—á—Ç–æ –∑–Ω–∞–µ—à—å, –Ω–æ –µ—Å—Ç—å –∫—É–¥–∞ —Ä–∞—Å—Ç–∏' },
                { min: 6, stars: '‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ', level: '–ó–Ω–∞—Ç–æ–∫', desc: '–•–æ—Ä–æ—à–æ —Ä–∞–∑–±–∏—Ä–∞–µ—à—å—Å—è –≤ –º–æ—Å–∫–æ–≤—Å–∫–∏—Ö –ª–µ–≥–µ–Ω–¥–∞—Ö' },
                { min: 8, stars: '‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ', level: '–≠–∫—Å–ø–µ—Ä—Ç', desc: '–ü–æ—á—Ç–∏ –≤—Å—ë –∑–Ω–∞–µ—à—å –æ —Ç—ë–º–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –ú–æ—Å–∫–≤—ã' },
                { min: 9, stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ', level: '–ú–∞—Å—Ç–µ—Ä', desc: '–ù–∞—Å—Ç–æ—è—â–∏–π –ø—Ä–æ—Ñ–∏ –≤ –º–æ—Å–∫–æ–≤—Å–∫–∏—Ö —Å—Ç—Ä–∞—à–∏–ª–∫–∞—Ö' },
                { min: 10, stars: '‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ', level: '–õ–µ–≥–µ–Ω–¥–∞ –ú–æ—Å–∫–≤—ã', desc: '–¢—ã –∑–Ω–∞–µ—à—å –í–°–Å –æ –º–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –ú–æ—Å–∫–≤–µ!' }
            ];
            
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ä–µ–π—Ç–∏–Ω–≥
            let userRating;
            for (let i = ratingSystem.length - 1; i >= 0; i--) {
                if (score >= ratingSystem[i].min) {
                    userRating = ratingSystem[i];
                    break;
                }
            }
            
            let resultHTML = `<h3>–¢—ã –æ—Ç–≤–µ—Ç–∏–ª –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞ ${score} –∏–∑ ${totalQuestions} –≤–æ–ø—Ä–æ—Å–æ–≤!</h3>`;
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–π—Ç–∏–Ω–≥
            resultHTML += `
                <div style="margin: 1.5rem 0; padding: 1.5rem; background: rgba(255,255,255,0.05); border-radius: 15px; border: 1px solid rgba(255,255,255,0.1);">
                    <div style="font-size: 2.5rem; color: #ffd200; margin-bottom: 0.5rem; text-align: center;">
                        ${userRating.stars}
                    </div>
                    <h3 style="color: #00ffcc; margin-bottom: 0.5rem; text-align: center;">
                        ${userRating.level}
                    </h3>
                    <p style="color: rgba(255,255,255,0.8); text-align: center; font-size: 0.95rem;">
                        ${userRating.desc}
                    </p>
                </div>
            `;
            
            // –†–∞–∑–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            if (score === totalQuestions) {
                resultHTML += `
                    <div style="color: #b29700; font-size: 1.2rem; margin: 1.5rem 0; padding: 1rem; background: rgba(178, 151, 0, 0.1); border-radius: 10px; text-align: center;">
                        üèÜ –ü–æ—Ç—Ä—è—Å–∞—é—â–µ! –¢—ã –Ω–∞—Å—Ç–æ—è—â–∏–π —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–∏–º —Å—Ç—Ä–∞—à–∏–ª–∫–∞–º!
                    </div>
                    <p style="text-align: center;">–¢—ã –≥–æ—Ç–æ–≤ –∫ —Å–∞–º–æ–º—É –∂—É—Ç–∫–æ–º—É –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏—é –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏!</p>
                `;
            } else if (score >= totalQuestions / 2) {
                resultHTML += `
                    <div style="color: #b29700; font-size: 1.2rem; margin: 1.5rem 0; padding: 1rem; background: rgba(178, 151, 0, 0.1); border-radius: 10px; text-align: center;">
                        üëç –ù–µ–ø–ª–æ—Ö–æ! –¢—ã –º–Ω–æ–≥–æ–µ –∑–Ω–∞–µ—à—å, –Ω–æ –ú–æ—Å–∫–≤–∞ –ø—Ä–∏–≥–æ—Ç–æ–≤–∏–ª–∞ –¥–ª—è —Ç–µ–±—è –µ—â—ë —Å—é—Ä–ø—Ä–∏–∑—ã!
                    </div>
                `;
            } else {
                resultHTML += `
                    <div style="color: #b29700; font-size: 1.2rem; margin: 1.5rem 0; padding: 1rem; background: rgba(178, 151, 0, 0.1); border-radius: 10px; text-align: center;">
                        üíÄ –°—Ç—Ä–∞—à–Ω–æ? –ù–µ –ø–µ—Ä–µ–∂–∏–≤–∞–π! –£ —Ç–µ–±—è –µ—Å—Ç—å —à–∞–Ω—Å —É–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –∫–≤–µ—Å—Ç–µ!
                    </div>
                `;
            }
            
            resultContent.innerHTML = resultHTML;
            
            // –ü–∞—Å—Ö–∞–ª–∫–∞ –¥–ª—è –æ—Ç–ª–∏—á–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            if (score >= 9) {
                setTimeout(() => {
                    if (typeof showMessage === 'function') {
                        showMessage('üé≠ –°–µ–∫—Ä–µ—Ç: –ù–∞–∂–º–∏ Ctrl+Shift+M –¥–ª—è –ø–∞—Å—Ö–∞–ª–∫–∏!', 'info');
                    }
                }, 2000);
            }
        });
        
        function retryQuiz() {
            if (typeof playSound === 'function') {
                playSound('click');
            }
            setTimeout(() => {
                window.location.href = 'quiz.html';
            }, 100);
        }
        
        function goToQuests() {
            if (typeof playSound === 'function') {
                playSound('click');
            }
            setTimeout(() => {
                window.location.href = 'quests.html';
            }, 100);
        }
    </script>
</body>
</html>
